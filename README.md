# Веб-приложение для вымышленной авиакомпании «Oceanic Airlines»
Данный репозиторий содержит веб-приложение для вымышленной авиакомпании «Oceanic Airlines», позволяющее совершать бронирование авиабилетов на рейсы авиакомпании. Веб-приложение имеет микросервисную архитектуру. Микросервисы написаны на платформе [ASP.Net Core](https://www.asp.net/) и взаимодействуют между собой при помощи REST API и брокера сообщений [RabbitMQ](https://www.rabbitmq.com/). В качестве СУБД для баз данных микросервисов используется [MySQL](https://www.mysql.com/). Кэширование реализовано при помощи резидентной базы данных [Redis](https://redis.io/). В качестве ORM в микросервисах использован [EntityFramework Core](https://learn.microsoft.com/ef/).
## 1. UserService
Данный микросервис ответственен за хранение, создание, обновление и удаление учетных записей пользователей. Является самостоятельным микросервисом, не обращающимся к другим микросервисам.
## 2. AuthorizationService
Ответственен за проведение процедуры аутентификации и авторизации пользователя, а также создание, хранение, обновление и удаление хэшей паролей пользователей, которые кэшируются при помощи алгоритма BCrypt. При поступлении микросервису запроса на авторизацию, содержащего уникальный идентификатор пользователя в формате GUID и пароль, сервис обращается к UserService для проверки существования и валидности пользователя, после чего проверяет валидность пароля. В случае удачной проверки генерирует JSON Web Token, являющийся удостоверением пользователя, содержащим основные идентификационные данные и роль.
## 3. FlightService
Имеет задачу хранения рейсов, которые авиакомпания выполнила или запланировала для выполнения в будущем. Является самостоятельным микросервисом, не обращающимся к другим микросервисам.
## 4. BookingService
Ответственен за оформление бронирования, а также хранение, обновление и удаление бронирований. При поступлении запроса на бронирование микросервис делает обращение к UserService для проверки валидности пользователя, совершающего бронирование. Если проверка была пройдена, совершается обращение к FlightService для проверки валидности рейса, на который совершается бронирование и проверки свободных мест на борту самолета. В случае успешных проверок, пассажиры и созданное бронирование заносятся в базу данных.
## 5. NotificationService
Незаконченный микросервис, ответственный за отправку уведомлений пользователям. Обращение к нему производится посредством брокера сообщений. На данный момент в микросервисе реализована логика отправки уведомлений пользователям по электронной почте.
## 6. FrontendService
Данный микросервис предназначен для отображения клиентской части и взаимодействия с ней. Обрабатывает запросы пользователя, поступающие из клиентской части, написанной с использованием движка представлений Razor Pages и библиотеки Bootstrap.
## InterserviceCommunication
Представляет собой библиотеку для взаимодействия с микросервисами, используя REST. Использование библиотеки сводится к созданию коннектора для конкретного микросервиса, создания запроса и отправкой этого запроса коннектором. API библиотеки вдохновлено API работы с ADO.Net, в котором необходимо создать подключение, запрос и отправить запрос подключением.
## SharedFunctionality
Представляет библиотеку, содержащую общую для всех микросервисов функциональность, такую как конфигурирование DI и компонентов Middlewares веб-приложения.